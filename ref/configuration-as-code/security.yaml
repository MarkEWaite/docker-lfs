security:
  apiToken:
    creationOfLegacyTokenEnabled: false
    tokenGenerationOnCreationEnabled: false
    usageStatisticsEnabled: true
  contentSecurityPolicyConfiguration:
    reportOnly: true
    # https://github.com/jenkins-infra/helpdesk/issues/4776#issuecomment-3206262731
    rule: "default-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data: avatars.githubusercontent.com; media-src 'self' data: ; script-src 'self' 'report-sample' usage.jenkins.io;"
  copyartifact:
    mode: PRODUCTION
  envInject:
    enableLoadingFromMaster: false
    enablePermissions: false
    hideInjectedVars: false
  gitHostKeyVerificationConfiguration:
    sshHostKeyVerificationStrategy: "acceptFirstConnectionStrategy"
  sSHD:
    port: -1
  scriptApproval:
    approvedSignatures:
    - "field hudson.plugins.git.UserRemoteConfig refspec"
    - "method groovy.lang.MetaObjectProtocol getMethods"
    - "method hudson.model.Cause getShortDescription"
    - "method hudson.model.Run getCause java.lang.Class"
    - "method hudson.model.Run getCauses"
    - "method hudson.model.Run getLog int"
    - "method hudson.model.Run getLogFile"
    - "method hudson.scm.SCM getBrowser"
    - "method java.lang.Class getName"
    - "method java.net.URL getHost"
    - "method org.jvnet.hudson.plugins.groovypostbuild.GroovyPostbuildRecorder$BadgeManager createSummary java.lang.String"
    - "method org.jvnet.hudson.plugins.groovypostbuild.GroovyPostbuildRecorder$BadgeManager getBuild"
    - "method org.jvnet.hudson.plugins.groovypostbuild.GroovyPostbuildSummaryAction appendText java.lang.String boolean boolean boolean java.lang.String"
    - "staticMethod java.util.Collections shuffle java.util.List java.util.Random"
    - "staticMethod org.codehaus.groovy.runtime.DefaultGroovyMethods getText java.net.URL java.util.Map"
    - "staticField java.util.concurrent.TimeUnit MILLISECONDS"
    - "staticField org.jenkinsci.plugins.gitclient.CliGitAPIImpl TIMEOUT"
